<!-- Generated by Harlequin Webmaker 2.0; Transducer 1.0.1 --> <HTML> <HEAD>
<TITLE>vmspec: Method Invocation (_quick variants)</TITLE>
</HEAD>
<BODY>
<A NAME=HEADING36></A>
<A HREF="vmspec-1.html">Contents</A>       <A HREF="vmspec-35.html">Prev</A>       <A HREF="vmspec-37.html">Next</A>       <A HREF="vmspec-31.html">Up</A>       <P>
<HR>
<A NAME=HEADING36-0></A>
<H2>A.5 Method Invocation (_quick variants)</H2>
<H3>invokevirtual_quick</H3>
Invoke instance method
<TABLE BORDER="1">
<CAPTION>&nbsp;</CAPTION>
<TD>invokevirtual_quick<TR>
<TD>offset<TR>
<TD>nargs</TABLE>
, dispatching based on run-time type<P>
<PRE>
Stack: <I>..., objectref, [arg1, [arg2 ...]] </I>=&gt;<I> ...</I><P>
</PRE>
The operand stack must contain objectref, a <I>reference </I>to an object and <I>nargs-1 </I>arguments. The method block at <I>offset</I> in the object's method table, as determined by the object's dynamic type, is retrieved. The method block indicates the type of method (<CODE>native</CODE>, <CODE>synchronized</CODE>, etc.).<P>
If the method is marked <CODE>synchronized</CODE> the monitor associated with the object is entered.<P>
The base of the local variables array for the new Java stack frame is set to point to <I>objectref </I>on the stack, making <I>objectref </I>and the supplied arguments (<I>arg1</I>, <I>arg2</I>, ...) the first <I>nargs</I> local variables of the new frame. The total number of local variables used by the method is determined, and the execution environment of the new frame is pushed after leaving sufficient room for the locals. The base of the operand stack for this method invocation is set to the first word after the execution environment. Finally, execution continues with the first instruction of the matched method.<P>
If objectref is <CODE>null</CODE>, a <CODE>NullPointerException</CODE> is thrown. If during the method invocation a stack overflow is detected, a <CODE>StackOverflowError</CODE> is thrown. <P>
<H3>invokevirtualobject_quick</H3>
Invoke instance method
<TABLE BORDER="1">
<CAPTION>&nbsp;</CAPTION>
<TD>invokevirtualobject_quick<TR>
<TD>offset<TR>
<TD>nargs</TABLE>
 of class <CODE>java.lang.Object</CODE>, specifically for benefit of arrays<P>
<PRE>
Stack: <I>..., objectref, [arg1, [arg2 ...]] </I>=&gt;<I> ...</I><P>
</PRE>
The operand stack must contain objectref, a <I>reference to</I> an object or to an array and <I>nargs-1</I> arguments. The method block at <I>offset</I> in <CODE>java.lang.Object</CODE>'s method table is retrieved. The method block indicates the type of method (<CODE>native</CODE>, <CODE>synchronized</CODE>, etc.).<P>
If the method is marked <CODE>synchronized</CODE> the monitor associated with handle is entered.<P>
The base of the local variables array for the new Java stack frame is set to point to <I>objectref </I>on the stack, making <I>objectref </I>and the supplied arguments (<I>arg1</I>, <I>arg2</I>, ...) the first <I>nargs</I> local variables of the new frame. The total number of local variables used by the method is determined, and the execution environment of the new frame is pushed after leaving sufficient room for the locals. The base of the operand stack for this method invocation is set to the first word after the execution environment. Finally, execution continues with the first instruction of the matched method.<P>
If objectref is <CODE>null</CODE>, a <CODE>NullPointerException</CODE> is thrown. If during the method invocation a stack overflow is detected, a <CODE>StackOverflowError</CODE> is thrown. <P>
<H3>invokenonvirtual_quick</H3>
Invoke instance method
<TABLE BORDER="1">
<CAPTION>&nbsp;</CAPTION>
<TD>invokenonvirtual_quick<TR>
<TD>indexbyte1<TR>
<TD>indexbyte2</TABLE>
, dispatching based on compile-time type<P>
<PRE>
Stack: <I>..., objectref, [arg1, [arg2 ...]] </I>=&gt;<I> ...</I><P>
</PRE>
The operand stack must contain objectref, a <I>reference </I>to an object and some number of arguments. <I>indexbyte1</I> and <I>indexbyte2</I> are used to construct an index into the constant pool of the current class. The item at that index in the constant pool contains a method slot index and a pointer to a class. The method block at the method slot index in the indicated class is retrieved. The method block indicates the type of method (<CODE>native</CODE>, <CODE>synchronized</CODE>, etc.) and the number of arguments (nargs) expected on the operand stack.<P>
If the method is marked <CODE>synchronized</CODE> the monitor associated with the object is entered.<P>
The base of the local variables array for the new Java stack frame is set to point to <I>objectref </I>on the stack, making <I>objectref </I>and the supplied arguments (<I>arg1</I>, <I>arg2</I>, ...) the first <I>nargs</I> local variables of the new frame. The total number of local variables used by the method is determined, and the execution environment of the new frame is pushed after leaving sufficient room for the locals. The base of the operand stack for this method invocation is set to the first word after the execution environment. Finally, execution continues with the first instruction of the matched method.<P>
If objectref is <CODE>null</CODE>, a <CODE>NullPointerException</CODE> is thrown. If during the method invocation a stack overflow is detected, a <CODE>StackOverflowError</CODE> is thrown. <P>
<H3><A NAME=MARKER-9-31></A><A NAME=MARKER-8-32></A><A NAME=MARKER-8-33></A>invokestatic_quick</H3>
Invoke a class (static) method
<TABLE BORDER="1">
<CAPTION>&nbsp;</CAPTION>
<TD>invokestatic_quick<TR>
<TD>indexbyte1<TR>
<TD>indexbyte2</TABLE>
<P>
<PRE>
Stack: <I>..., [arg1, [arg2 ...]] </I>=&gt;<I> ...</I><P>
</PRE>
The operand stack must contain some number of arguments. <I>indexbyte1</I> and <I>indexbyte2</I> are used to construct an index into the constant pool of the current class. The item at that index in the constant pool contains a method slot index and a pointer to a class. The method block at the method slot index in the indicated class is retrieved. The method block indicates the type of method (<CODE>native</CODE>, <CODE>synchronized</CODE>, etc.) and the number of arguments (nargs) expected on the operand stack.<P>
If the method is marked <CODE>synchronized</CODE> the monitor associated with the method's class is entered.<P>
The base of the local variables array for the new Java stack frame is set to point to the first argument on the stack, making the supplied arguments (<I>arg1</I>, <I>arg2</I>, ...) the first <I>nargs</I> local variables of the new frame. The total number of local variables used by the method is determined, and the execution environment of the new frame is pushed after leaving sufficient room for the locals. The base of the operand stack for this method invocation is set to the first word after the execution environment. Finally, execution continues with the first instruction of the matched method.<P>
If the object handle on the operand stack is <CODE>null</CODE>, a <CODE>NullPointerException</CODE> is thrown. If during the method invocation a stack overflow is detected, a <CODE>StackOverflowError</CODE> is thrown. <P>
<H3>invokeinterface_quick</H3>
Invoke interface method
<TABLE BORDER="1">
<CAPTION>&nbsp;</CAPTION>
<TD>invokeinterface_quick<TR>
<TD>idbyte1<TR>
<TD>idbyte2<TR>
<TD>nargs<TR>
<TD>guess</TABLE>
<P>
<PRE>
Stack: <I>..., objectref, [arg1, [arg2 ...]] </I>=&gt;<I> ...</I><P>
</PRE>
The operand stack must contain objectref, a reference to an object, and <I>nargs</I>-1 arguments. <I>idbyte1 </I>and <I>idbyte2 </I>are used to construct an index into the constant pool of the current class. The item at that index in the constant pool contains the complete method signature. A pointer to the object's method table is retrieved from the object <I>handle</I>. <P>
The method signature is searched for in the object's method table. As a short-cut, the method signature at slot <I>guess</I> is searched first. If that fails, a complete search of the method table is performed. The method signature is guaranteed to exactly match one of the method signatures in the table. <P>
The result of the lookup is a method block. The method block indicates the type of method (<CODE>native</CODE>, <CODE>synchronized</CODE>, etc.) but the number of available arguments (nargs) is taken from the bytecode. <P>
If the method is marked <CODE>synchronized</CODE> the monitor associated with handle is entered.<P>
The base of the local variables array for the new Java stack frame is set to point to <I>handle</I> on the stack, making <I>handle </I>and the supplied arguments (<I>arg1</I>, <I>arg2</I>, ...) the first <I>nargs</I> local variables of the new frame. The total number of local variables used by the method is determined, and the execution environment of the new frame is pushed after leaving sufficient room for the locals. The base of the operand stack for this method invocation is set to the first word after the execution environment. Finally, execution continues with the first instruction of the matched method.<P>
If objectref is <CODE>null</CODE>, a <CODE>NullPointerException</CODE> is thrown. If during the method invocation a stack overflow is detected, a <CODE>StackOverflowError</CODE> is thrown. <P>
<I>guess</I> is the last guess. Each time through, guess is set to the method offset that was used. <P>
<HR>
<A HREF="vmspec-1.html">Contents</A>       <A HREF="vmspec-35.html">Prev</A>       <A HREF="vmspec-37.html">Next</A>       <A HREF="vmspec-31.html">Up</A>       <P>
</BODY>
</HTML> 