<!-- Generated by Harlequin Webmaker 2.0; Transducer 1.0.1 --> <HTML> <HEAD>
<TITLE>vmspec: Pushing Constants onto the Stack</TITLE>
</HEAD>
<BODY>
<A NAME=HEADING14></A>
<A HREF="vmspec-1.html">Contents</A>       <A HREF="vmspec-13.html">Prev</A>       <A HREF="vmspec-15.html">Next</A>       <A HREF="vmspec-12.html">Up</A>       <P>
<HR>
<A NAME=HEADING14-0></A>
<H2>3.2 Pushing Constants onto the Stack</H2>
<H3><A NAME=MARKER-9-1></A><A NAME=MARKER-8-2></A><A NAME=MARKER-8-3></A>bipush</H3>
Push one-byte signed integer
<TABLE BORDER="1">
<CAPTION>&nbsp;</CAPTION>
<TD>bipush = 16<TR>
<TD>byte1</TABLE>
<P>
<PRE>
Stack: ... =&gt; ..., value<P>
</PRE>
<I>byte1</I> is interpreted as a signed 8-bit <I>value</I>. This <I>value</I> is expanded to an integer and pushed onto the operand stack.<P>
<H3><A NAME=MARKER-9-4></A><A NAME=MARKER-8-5></A><A NAME=MARKER-8-6></A>sipush</H3>
Push two-byte signed integer
<TABLE BORDER="1">
<CAPTION>&nbsp;</CAPTION>
<TD>sipush = 17<TR>
<TD>byte1<TR>
<TD>byte2</TABLE>
<P>
<PRE>
Stack: ... =&gt; ..., item<P>
</PRE>
<I>byte1</I> and byte2 are assembled into a signed 16-bit <I>value</I>. This <I>value</I> is expanded to an integer and pushed onto the operand stack.<P>
<H3><A NAME=MARKER-9-7></A><A NAME=MARKER-8-8></A><A NAME=MARKER-8-9></A>ldc1</H3>
Push item from constant pool
<TABLE BORDER="1">
<CAPTION>&nbsp;</CAPTION>
<TD>ldc1 = 18<TR>
<TD>indexbyte1</TABLE>
<P>
<PRE>
Stack: ... =&gt; ..., item<P>
</PRE>
<I>indexbyte1</I> is used as an unsigned 8-bit index into the constant pool of the current class. The <I>item</I> at that index is resolved and pushed onto the stack. If a <CODE>String</CODE> is being pushed and there isn't enough memory to allocate space for it then an <CODE>OutOfMemoryError</CODE> is thrown.<P>
Note: A String push results in a reference to an object; what other constants do, and explain this somewhere here.<P>
<H3><A NAME=MARKER-9-10></A><A NAME=MARKER-8-11></A><A NAME=MARKER-8-12></A>ldc2</H3>
Push item from constant pool
<TABLE BORDER="1">
<CAPTION>&nbsp;</CAPTION>
<TD>ldc2 = 19<TR>
<TD>indexbyte1<TR>
<TD>indexbyte2</TABLE>
<P>
<PRE>
Stack: ... =&gt; ..., <I>item</I><P>
</PRE>
<I>indexbyte1</I> and <I>indexbyte2</I> are used to construct an unsigned 16-bit index into the constant pool of the current class. The <I>item</I> at that index is resolved and pushed onto the stack. If a <CODE>String</CODE> is being pushed and there isn't enough memory to allocate space for it then an <CODE>OutOfMemoryError</CODE> is thrown.<P>
Note: A String push results in a reference to an object; what other constants do, and explain this somewhere here.<P>
<H3><A NAME=MARKER-9-13></A><A NAME=MARKER-8-14></A><A NAME=MARKER-8-15></A>ldc2w</H3>
Push long or double from constant pool
<TABLE BORDER="1">
<CAPTION>&nbsp;</CAPTION>
<TD>ldc2w = 20<TR>
<TD>indexbyte1<TR>
<TD>indexbyte2</TABLE>
<P>
<PRE>
Stack: ... =&gt; ..., constant<CODE>-word1</CODE>, constant<CODE>-word2</CODE><P>
</PRE>
<I>indexbyte1</I> and <I>indexbyte2</I> are used to construct an unsigned 16-bit index into the constant pool of the current class. The two-word <I>constant </I>at that index is resolved and pushed onto the stack.<P>
<H3><A NAME=MARKER-9-16></A><A NAME=MARKER-8-17></A><A NAME=MARKER-8-18></A>aconst_null</H3>
Push null object
<TABLE BORDER="1">
<CAPTION>&nbsp;</CAPTION>
<TD>aconst_null = 1</TABLE>
 reference<P>
<PRE>
Stack: ... =&gt; ..., null<P>
</PRE>
Push the <CODE>null</CODE> object reference onto the stack.<P>
<H3><A NAME=MARKER-9-19></A><A NAME=MARKER-8-20></A><A NAME=MARKER-8-21></A>iconst_m1</H3>
Push integer constant -1
<TABLE BORDER="1">
<CAPTION>&nbsp;</CAPTION>
<TD>iconst_m1 = 2</TABLE>
<P>
<PRE>
Stack: ... =&gt; ..., -1<P>
</PRE>
Push the integer -1 onto the stack.<P>
<H3><A NAME=MARKER-9-22></A><A NAME=MARKER-8-23></A><A NAME=MARKER-8-24></A>iconst_&lt;n&gt;</H3>
Push integer constant
<TABLE BORDER="1">
<CAPTION>&nbsp;</CAPTION>
<TD>iconst_&lt;n&gt;</TABLE>
<P>
<PRE>
Stack: ... =&gt; ..., &lt;n&gt;<P>
</PRE>
Forms: <CODE>iconst_0</CODE> = 3, <CODE>iconst_1</CODE> = 4, <CODE>iconst_2</CODE> = 5, <CODE>iconst_3</CODE> = 6, <CODE>iconst_4</CODE> = 7, <CODE>iconst_5</CODE> = 8<P>
Push the integer <CODE>&lt;n&gt;</CODE> onto the stack.<P>
<H3><A NAME=MARKER-9-25></A><A NAME=MARKER-8-26></A><A NAME=MARKER-8-27></A>lconst_&lt;l&gt;</H3>
Push long integer constant
<TABLE BORDER="1">
<CAPTION>&nbsp;</CAPTION>
<TD>lconst_&lt;l&gt;</TABLE>
<P>
<PRE>
Stack: ... =&gt; ..., <CODE>&lt;l&gt;-word1</CODE>, &lt;l&gt;-word2<P>
</PRE>
Forms:<CODE> lconst_0</CODE> = 9, <CODE>lconst_1</CODE> = 10<P>
Push the long integer &lt;l&gt; onto the stack.<P>
<H3><A NAME=MARKER-9-28></A><A NAME=MARKER-8-29></A><A NAME=MARKER-8-30></A>fconst_&lt;f&gt;</H3>
Push single float
<TABLE BORDER="1">
<CAPTION>&nbsp;</CAPTION>
<TD>fconst_&lt;f&gt;</TABLE>
<P>
<PRE>
Stack: ... =&gt; ..., &lt;f&gt;<P>
</PRE>
Forms: <CODE>fconst_0</CODE> = 11, <CODE>fconst_1</CODE> = 12, <CODE>fconst_2</CODE> = 13<P>
Push the single-precision floating point number <CODE>&lt;f&gt;</CODE> onto the stack.<P>
<H3><A NAME=MARKER-9-31></A><A NAME=MARKER-8-32></A><A NAME=MARKER-8-33></A>dconst_&lt;d&gt;</H3>
Push double float
<TABLE BORDER="1">
<CAPTION>&nbsp;</CAPTION>
<TD>dconst_&lt;d&gt;</TABLE>
<P>
<PRE>
Stack: ... =&gt; ..., &lt;d&gt;<CODE>-word1</CODE>, <CODE>&lt;d&gt;-word2</CODE><P>
</PRE>
Forms: <CODE>dconst_0</CODE> = 14, <CODE>dconst_1</CODE> = 15<P>
Push the double-precision floating point number <CODE>&lt;d&gt;</CODE> onto the stack.<P>
<P>
<HR>
<A HREF="vmspec-1.html">Contents</A>       <A HREF="vmspec-13.html">Prev</A>       <A HREF="vmspec-15.html">Next</A>       <A HREF="vmspec-12.html">Up</A>       <P>
</BODY>
</HTML> 